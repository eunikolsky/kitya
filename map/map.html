<!DOCTYPE html>
<html lang="en">
<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Goat Lake</title>
	
    <!-- https://unpkg.com/leaflet@1.9.4/dist/leaflet.css -->
    <link rel="stylesheet" href="leaflet.css"/>
    <!-- https://unpkg.com/leaflet@1.9.4/dist/leaflet.js -->
    <script src="leaflet.js"></script>
    <!-- https://raw.githubusercontent.com/jieter/Leaflet.encoded/c186c7c75d9d255abb8ac342ad52d4ac0c25ca02/Polyline.encoded.js -->
    <script type="text/javascript" src="Polyline.encoded.js"></script>

	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		.leaflet-container {
			height: 100%;
			width: 100%;
			max-width: 100%;
			max-height: 100%;
		}
	</style>

	
</head>
<body>



<div id="map" style="width: 100%; height: 100%;"></div>
<script>

	const map = L.map('map');

	const tiles = L.tileLayer('http://localhost:8080/tile/{z}/{x}/{y}.png', {
		maxZoom: 19,
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	}).addTo(map);

  // from https://ionic.io/ionicons
  const start = L.icon({ iconUrl: 'battery-full.svg', iconSize: [27, 16] });
  const finish = L.icon({ iconUrl: 'battery-half-outline.svg', iconSize: [27, 16] });

	L.marker([48.05365, -121.41286666667], {icon: start, title:'start', riseOnHover:true}).addTo(map).bindPopup('start');
	L.marker([48.053933333333, -121.41301666667], {icon: finish, title:'finish', riseOnHover:true}).addTo(map).bindPopup('finish');

	const encodedPolylines = [
		'inhdHjm`dVAA@CBCNBFB@]FIWy@Hq@BUXQHOj@Sr@]PIMq@BC^OHk@ZENEE]DMLIXc@LiA@q@ZEJJ\
VIVI@BFWDUBI@[g@}@SR_@NSSNOLq@Xy@RYm@Sg@Ie@\\c@j@CDKj@INCHEb@k@x@Or@a@p@]VMH\
}@OQCEC{@Fa@\\E@Wf@]KO_AOg@Wa@YoAQ}@]e@Kc@[q@{@aA{@IkAMg@EiA[q@c@_@Sa@u@{@EMC\
_@Kg@q@k@g@Me@SO{@Ys@_Ae@m@i@y@]_@g@QwAaA_@BGWFON[z@FDDBC`@R^LZVh@Tn@V^Hj@XVH\
HBXRVLh@NZDDBDWBHCBBCDABCBBIo@@BP`AXBNM\\Zx@GXLEEXDHRVIh@Dd@Rb@Aj@NjABf@I\\C\
b@Xn@K\\Gr@Oj@]f@Mj@_@JWd@WTYz@k@f@Sp@oAj@]RKXSVa@Xq@dA]j@m@L]He@l@UX]t@Ib@]\
HIt@iAb@{@Vu@z@i@VSTq@j@mAb@{@`@i@z@Ip@q@`@_Ap@w@l@k@b@W`@aAHIVc@Jy@z@yAFE@M\
Pc@@Ct@eAj@s@dA{@p@cAJKVg@Lg@J[BO\\a@f@i@b@{@FmA@]Vw@f@c@HI\\{@\\{@V{@Xg@b@wA\
Vm@Du@f@m@Pa@@UZ]^g@VcABB@EL[\\aALONSL_A@m@Lu@b@YLQBENYXq@FID{@`@iAXu@Li@Mu@\
La@@ABMNCVOl@k@Hw@Vg@NaALoA`@gB\\m@Jk@VeAXc@Lo@X}@P[HeANc@Nk@BKH]RSHWLu@NUH[\
RYD_ABSBIRSTAZWHq@DELu@Tw@FIJk@LYLQDUVy@Xi@Xo@\\]Zw@Jg@ZWJIHSLg@BSNi@f@o@BKXQ\
LETYf@ILINy@PIDOLOG]RMBELq@^WFa@Jq@ZcB@Ad@cA^m@`@SD]VMj@s@DS`@[N_@\\Qp@]VAl@e@\
v@q@VYRg@X]Vk@Cm@Hg@Aw@XSCq@Fa@Rm@CSDk@PE@g@PSh@WVYBg@Rq@^QRH\\L`@BV@NPVJ\\U\
DWHERQz@KBWNWRSl@]ZFp@Mh@k@\\c@p@iAlASf@UTQKs@G]P[DUCoAHe@RULSDWRIKk@R]JO\\a@\
RU\\a@ZCDY\\WBq@\\I@AVC`@EDQRSb@OZE\\JDINE\\ELDDMPIJg@FYDOIe@MSBOLY^mAVODq@Pa@\
Rw@JSLSVITOPMl@WOs@TW',
		'msbdH|avcVZCXi@j@SXq@\\TYYg@Eu@CSDOOg@M[\\m@Ia@Sw@UIMDWbAZXHDGVEBEMQOw@f@WRg@\
p@I^I`@ACe@FSv@Bz@LCIw@eAWWhXel@BGCFA@GBFIRIJELGVADGBBJCHKVWDIFCRKHGDEDDLUCC\
AECSIMMDOESISYBMC]BOG[BIDKFGDAHMBSDIVCHKCGBA@CHD\\ELIHIBMXBLCHBJCLAHHLSHe@RO\
JIBCHADGBEp@MNEFERG@BBCBBDCBBHI@a@ABHCNHRFD@`@EVI\\MJHHFx@Jb@FRGNEPBHIRGJLHB\
PGh@KF@HEHCC\\BZHXJBEHMHKf@IRCRS\\EDGLPHJg@HWLm@BWDSC{@EIBBNQVUJSF[TBBCHHXK\\G\
PIJALMDERQBBCYBMHMVKD]X[HIHEFIRENIHQRSC]LSLIJYBED@BICRRFLJBLRMJERWIKHIPIHC^M\
AB@Cf@LHOIJBPMf@IDFLC\\Df@VTBBNDXj@LHHBD@\\RPBCm@H^Xp@AF@HBGb@FBCRILIHIHMTAVJ\
H_@B@DBBBDHOHJCLNf@j@b@NPFNJ`@BRHNBLRNTXPLTXPZRTCPBDQHFf@TNFBHH@EH@IVPCSPQHI\
Jg@LBHDVBCCHHXV\\\\HBVRRNNSVDDLPVNRN@OSBEXXLR@LHLVf@CIEHHGIFCCPBCCf@OOCGCOEDB\
VNEC]KCCBN@BLHNXFRJZFJ[\\EAWRZq@DIECGSBED]BQCLALCJIt@B\\Jb@FRCRNFZ^QbAKf@DCDE\
HWVc@Ro@MEKID]CMAYCYESa@@c@d@CQ`Ac@EOEMMMLHHUCIEDDRMb@E\\EEHIHMTc@KXGLKHMNBB\
e@BA@GEZEDCDDBFH]EI@IB[HOCEEa@B\\@VAQ',
		'}~~cHpzscVMi@ETDEBCCi@Da@BBD]B]MMKYQ[LBBa@Dg@M\\AL@NB\\BLDXDRAZHX[f@BCCZKTRE\
MMIOLMMKLDu@k@OEa@BO@CSBKMCEBg@CQOUHSg@ICIIQc@ECCOE@MOAB@IUMWBg@NMCOROBGNFRML\
SMOIk@Eg@BYM[EKCq@CIH[AUMQBn@sAHESQCEYOMNLM]Eg@OWMCBH@HLLBBDWNOHDACDSDEEHDIE\
m@EHCWEI@CEm@Em@DQIAMCUDCIHODEOQNKRSV@IODIFMTAd@CRMb@K\\GREHMBEDIBWHKIICIMCE\
]HCCSFE@WIKAM@WZ]Jc@ASHONQBIJOPISMCKCQAKJGIAUGQASGEEICOEe@MKLWBOWNIRSDCAEf@EH\
@GEEBEC@DIIHBHEBMWM\\U_@GHm@CIDMAAHGDEBIJCEEYEGGLEDEAGHEDCHEEOIMGIPEJQIEBB`@\
MQSq@a@OIIIE_@IGNSBA@GEEDEFMMELGNAHMXCKEDECCAM@IBKLCDMEA@SBMREDII@EESEOCGBH@V\
ENCBABIHDJSVINEPMCWCAAGGEFBXJLB@SK]WIHCHAV[DAIGMEECBKDGNAACGIBECGFIDELOGIFCJ\
CLBVB\\D^HRLPD@HRDVADI\\SFIJSR@PUG@ABDBDGAK@CLDVKIMIENQRSDAFSCSODNCLKG@HKHCL\
OBIJGEKBIHMCSCSABN@BKDMHEDC`@BVQ\\UIIHCRS\\OJQLq@L]\\HfAIvAc@v@W`Ac@\\CSFF@p@\
YxADpAAj@CDCHIIBABIH@@SFd@@MBDMH',
		'qgbdHt`ucVIIBVEz@Gf@ABGTAPMTIRC`@K|AGTAp@Gt@]XOd@CHq@GaAc@u@HIHg@HFRDHHNDFj@D\
j@f@DRDNKVu@]a@LI^ABo@l@_@Va@l@k@Ic@j@w@RS`@^Nj@HLED@f@Pb@DVCv@UVC`@\\l@HIHg@R\
Sl@a@\\Sf@]VE`@OD[t@BINHAG]`@a@~@]v@IBIb@SVW^Ed@E@Cf@DZB\\Sp@m@jAWl@IYm@]Wp@\
a@BYDOICB]TORI\\MZEHSf@]DQj@IMABWXM`@Y^c@j@Mv@EVQxAIt@]jAm@f@k@Hw@p@Yp@a@LOH\
g@No@Rc@\\WX]P{@r@IEUCy@f@KRWi@c@Ga@YMHOXIp@M\\{@~@g@REj@WnAU^Q`@BdAOz@QfC{@\\\
i@p@e@x@AHk@NYXk@RYI@IYEYNWz@Wj@Ib@]VABSDa@V]b@W`@ER_Av@]nAIl@Ex@I\\SdAIHIHCH\
KXGf@Iz@E\\Ml@Ed@WTSVE\\Df@B~@ONCVDNIDIZ]XEXBZIDM\\YBW@WBFl@GBOl@Bd@GXA\\@XIR\
FLMf@c@NQRKd@CfA`@f@M\\Et@CLORDXIXDR]PEf@Ob@WBOb@CNVVJv@AAM^OZk@a@M`Ac@f@B`@\
Nf@Lj@\\h@GdAFLSp@Cz@Bz@Jf@FnAXhAOXIdAMdAErAXjAMz@V`AYpBTrAL|@DARb@UNe@ZY^Oz@\
[RSL]XYd@DREf@\\dALl@e@nAI`@Ev@a@b@]ZOXBp@[XA\\Gd@Uv@Np@Ef@TNU`BWTMVd@BXRYXo@\\\
Fp@a@f@Sj@IRM`AO\\a@hA_@Nl@rBMFq@GSHUBDBBRo@@c@HOB[DSPIH_@Ca@MVL\\b@QLAXIBo@I\
_@Ee@XUVa@GCj@KVa@HSRCMASa@CMF_@IICINQFg@D_@CQLHRFNQLYBl@\\K@@BHXYKM^KRSB_AL\
SG]EEC]PSN[N]LOl@OP]HMJSHSHa@Hc@z@WP_@HGN_@EIRC\\MXEDIt@IVc@g@GM\\DLPHp@a@h@\
OFO\\k@RSl@g@dAEz@e@t@Zp@DDOE^r@AFCJCn@Pr@Ij@Sf@MRSXSp@Op@Q`@U`@Wl@Ob@M\\Wf@\
SPI\\ARGD]WOSa@Yg@VKNQCc@YECe@SYEg@MWLKHSl@M\\BHG`@FtAJp@m@IEHSLeALu@RSHSz@M\\\
AXM\\Wf@FDCd@C@IB_@`@g@NSl@q@\\WZBD]XHp@',
		'wmhdHfj`dV@HEn@Ih@a@`@s@a@IAHHG@FFDC\\XDBOO'
	];

	const polylines = encodedPolylines.map(polyline =>
		L.Polyline.fromEncoded(polyline, {color:'#E600E6', opacity:0.7})
	);
	polylines.forEach((polyline, idx) => polyline.addTo(map).bindPopup(`path ${idx}`));

  const bounds = polylines.map(p => p.getBounds()).reduce((acc, bounds) => acc.extend(bounds));
  map.fitBounds(bounds);

</script>



</body>
</html>
